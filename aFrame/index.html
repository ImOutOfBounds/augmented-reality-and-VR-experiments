<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <title>Beyblade</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <link rel="icon" href="./img/bey-icon.png" type="image/x-icon">
</head>
<body>
    <a-scene>
        <a-text value="Storm Pegasus!" position="-1.3 41 98" color="#000fff" scale="1.5 1.5 1.5"></a-text>
        <a-text value="Aperte barra de espaco para lancar / M para trocar de musica" position="-2.5 40 98" color="#fff"></a-text>
        <!-- Assets utilizados no projeto -->
        <a-assets>
            <img id="imgEscada" src="./img/sky.jpg" />
            <img id="texturaChao" src="./textures/stone.jpg" />
            <img id="monster" src="./textures/monster.jpg" /> 

            <img id="img1" src="./textures/img1.jfif" /> 
            <img id="img2" src="./textures/img2.jpg" />
            <img id="img3" src="./textures/img3.jpg" />

            <a-asset-item id="game_machine" src="./jukebox/Electronic Game.glb"></a-asset-item>
            <a-asset-item id="arena" src="./arena/scene.gltf"></a-asset-item>
            <a-asset-item id="cenario" src="./scenario/scene.gltf"></a-asset-item>
            <a-asset-item id="beyblade1" src="./models/scene.gltf"></a-asset-item>
            <a-asset-item id="launcher" src="./launcher/scene.gltf"></a-asset-item>

            <audio id="musica1" src="./songs/song1.mp3"></audio>
            <audio id="musica2" src="./songs/song2.mp3"></audio>
            <audio id="musica3" src="./songs/song3.mp3"></audio>
        </a-assets>

        <!-- Ambiente 360 -->
        <a-sky id="img-360" radius="200" src="#imgEscada"></a-sky>

        <a-entity rotation="0 0 0"
            animation="property: rotation; to: 0 1000000 0; dur: 1000000"
            scale="4 4 4">
            <a-entity 
                id="beybladeScene"
                gltf-model="#beyblade1" 
                position="5 2 0"  
                rotation="0 0 0" 
                scale=".2 .2 .2"
                animation="property: rotation; to: 0 4320 0; dur: 10000; loop: true "></a-entity>
        </a-entity>

        <!-- Arena com textura aplicada -->
        <a-entity 
            gltf-model="#arena" 
            position="0 -1 0"  
            rotation="0 0 0" 
            scale="0.10 0.05 0.10"
            material="src: #texturaChao; repeat: 10 10; roughness: 0.7; metalness: 0.3;">
        </a-entity>

        <a-entity 
            gltf-model="#cenario" 
            position="0 -1.5 0"  
            rotation="0 0 0" 
            scale="1 1 1">
        </a-entity>

        <a-cylinder 
            height="0.18"
            radius="0.033"            
            material="src: #monster; repeat: 1 1" 
            position="-4 20 -75"
            material="src: #texturaLateral; side: double"
            top-material="color: #000000"  
            bottom-material="color: #000000"         
            rotation="0 233.19 0"
            color="green"
            scale="40 33 40">      
        </a-cylinder>

        <a-entity 
            gltf-model="#game_machine" 
            position="-53.71873 7.198 -83.519" 
            rotation="0 25 0" 
            scale="20 20 20">
        </a-entity>

        <a-entity 
            camera 
            position="0 40 100"
            wasd-controls="acceleration: 500"
            look-controls="pointerLockEnabled: true"
            custom-controls>
            
            <!-- Modelo do launcher vinculado à câmera -->
            <a-entity 
                gltf-model="#launcher"
                position=".05 -.05 -0.1"
                rotation="0 0 0" 
                scale=".5 .5 .5">
            </a-entity>
            <a-entity 
                id="beybladeLauncher"
                gltf-model="#beyblade1" 
                position="1.5 -.5 -0.6"  
                rotation="0 0 0" 
                scale=".07 .07 .07">
            </a-entity>
        </a-entity>


        <a-cylinder scale="0.6 0.6 0.6" position="-42.24011 20.04886 -74.17777" rotation="29.999999999999996 0 0" color="green" height="1" radius="1.5"></a-cylinder>    
        <a-cylinder scale="0.7 0.7 0.7" position="-40.83614 20.31775 -76.88595" rotation="29.999999999999996 0 0" color="blue" height="1" radius="1.5" material="" geometry=""></a-cylinder>
        <a-cylinder scale="0.7 1.2 0.7" position="-38.33108 20.47471 -79.42502" rotation="29.999999999999996 0 0" color="crimson" height="1" radius="1.5" material="" geometry=""></a-cylinder>

        </a-entity>

        <a-image id="display" src="#img1" position="-43 28 -79.0" 
            rotation="-15.08 25 0" 
            scale="15 15 15">
        </a-image>
        <!-- Som do áudio -->
        <a-entity id="music" sound="src: #musica3; autoplay: true; loop: true; distance: 50; refDistance: 10; maxDistance: 1000; volume: 10" position="0 1 0">
        </a-entity>

    </a-scene>
</body>
<script src="./index.js"></script>
</html>
